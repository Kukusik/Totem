<div class="row content">
    <ng-include src=" '/partials/navigation.html' "></ng-include>
	<div class="small-4 columns build-background overflow-container">
        <div class="row row-full-width">
            <div class="small-12">
                <div class="totem-view-container">
                    <div class="totem-title row row-full-width">
                        <div class="small-12 pagination-centered">
                            <div class="title-container">
                                <input type="text" id="editFlowNameInput" ng-show="editingFlowName" ng-model="totemFlow.name"ui-keypress="{enter: 'endEditFlowName()'}" >
                                <h3 ng-show="!editingFlowName" ng-bind="totemFlow.name" ng-dblclick="startEditFlowName()"></h3>
                            </div>
                        </div>
                    </div>
                    <ul id="totemBlocksList">
                        <li id="{{totemBlock.position}}" class="ui-state-default" ng-repeat="totemBlock in totemBlocks" ng-animate="'animate'"ng-animate="'animate'">
                            <div class="block-container" ng-class="{'selected-block-container': $index==selectedBlockIndex}">
                                <div class="totem-block" data-position={{totemBlock.position}} ng-class="{'selectedBlock': $index==selectedBlockIndex, 'monkey-block':totemBlock.totem_type == 'monkey', 'face-block':totemBlock.totem_type == 'face', 'bear-block':totemBlock.totem_type == 'bear'}" ng-click="setSelectedBlock($index)">
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>  
    		</div>
    	</div>
	</div>
	<div class="small-7 columns build-background overflow-container">
		<div class="row row-full-width">
			<div class="small-12 pagination-centered">
    			<div class="title-container">
                    <input type="text" id="editTitleInput" ui-keypress="{enter: 'endEditTitle()'}" ng-show="editingBlockTitle" ng-model="totemBlocks[selectedBlockIndex].title">
                    <h3 ng-bind="totemBlocks[selectedBlockIndex].title" ng-dblclick="startEditTitle()" ng-show="!editingBlockTitle">
                    </h3>
                </div>
    		</div>
    	</div>
    	<div class="row row-full-width">
			<div class="padding-for-content">
                <div class="content-container">
                    <textarea class="content-input" id="editContentInput" name="Text1" cols="40" rows="5" ui-keypress="{enter: 'endEditContent()'}" ng-show="editingBlockContent" ng-model="totemBlocks[selectedBlockIndex].content" /> 
        			<p ng-bind-html="totemBlocks[selectedBlockIndex].content | linky" ng-dblclick="startEditContent()" ng-show="!editingBlockContent">
        			</p>
                </div>
    		</div>
    	</div>
    	<div class="row row-full-width drop-container">
			<div class="small-12 pagination-centered">
                <h2 ng-show=" !totemBlocks.length" ng-click="addBlock()">
                    <div data-alert class="alert-box" ng-bind="getStartedMessage">
                    </div>
                </h2>
                <img id="uploadPreview" ng-show="totemBlocks[selectedBlockIndex].block_image_url" ng-src={{totemBlocks[selectedBlockIndex].block_image_url}}></img>
                <div id="drop-target" ng-show='totemBlocks.length'>
                    <div>
                        <h1>Drag And Drop Files Here</h1>
                    </div>
                </div>
    		</div>
    	</div>
	</div>
	<div class="small-1 columns sidebar full">
		<ng-include src=" 'partials/sidebar.html' "></ng-include>
	</div>
</div>